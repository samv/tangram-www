<!--#set var="title" value="Documentation: Tangram::PerlDump"-->
<!--#include virtual="/header.html"-->
<a class="POD_NAVLINK" name="Pod_TOP_OF_PAGE"></a>
<h1 class="POD_TITLE">Tangram::PerlDump</h1>
<hr>
<ul>
<li><a class="POD_NAVLINK" href="#NAME">NAME</a>
<li><a class="POD_NAVLINK" href="#SYNOPSIS">SYNOPSIS</a>
<li><a class="POD_NAVLINK" href="#DESCRIPTION">DESCRIPTION</a>
<li><a class="POD_NAVLINK" href="#AUTHOR">AUTHOR</a>
</ul>
<hr>
<h2 class="POD_HEAD1"><a name="NAME">NAME</a></h2>
<p class="POD_TEXT">
Tangram::PerlDump - map any Perl object as scalar dump
</p>
<h2 class="POD_HEAD1"><a name="SYNOPSIS">SYNOPSIS</a></h2>
<pre class="POD_VERBATIM">
   use Tangram::Core;
   use Tangram::PerlDump; # always

   $schema = Tangram::Schema-&gt;new(
      classes =&gt; { NaturalPerson =&gt; { fields =&gt; {

      perl_dump =&gt;
      {
         diary =&gt; # diary is a perl hash 
         {
            col =&gt; 'diarydata',
            sql =&gt; 'TEXT',
            indent =&gt; 0,
            terse =&gt; 1,
            purity =&gt; 0
         },

         lucky_numbers =&gt; 'int', # use defaults
      }
</pre>
<h2 class="POD_HEAD1"><a name="DESCRIPTION">DESCRIPTION</a></h2>
<p class="POD_TEXT">
Maps arbitrary Perl data structures by serializing to a string
representation. The persistent fields are grouped in a hash under the
<code>perl_dump</code> key in the field hash.
</p>
<p class="POD_TEXT">
Serialization is done by the <u>Data::Dumper</u> manpage, which traverses the Perl
data structure and creates a string representation of it. The
resulting string will be mapped to the DBMS as a scalar value. During
restore, the scalar value will be the <u>eval</u> manpage'd to reconstruct the
original data structure.
</p>
<p class="POD_TEXT">
As the <u>Data::Dumper</u> manpage might not handle persistent references correctly,
the data structure may only contain &quot;normal&quot; Perl references.
</p>
<p class="POD_TEXT">
The field names are passed in a hash that associates a field name with
a field descriptor. The field descriptor may be either a hash or a
string. The hash uses the following fields:
</p>
<ul class="POD_LIST">
<li class="POD_ITEM"><a name="col"><p>col</p></a>
<li class="POD_ITEM"><a name="sql"><p>sql</p></a>
<li class="POD_ITEM"><a name="indent"><p>indent</p></a>
<li class="POD_ITEM"><a name="terse"><p>terse</p></a>
<li class="POD_ITEM"><a name="purity"><p>purity</p></a>
</ul>
<p class="POD_TEXT">
The optional fields <code>col</code> and <code>sql</code> specify the column name and the
column type for the scalar value in the database. If not present,
<code>col</code> defaults to the field name and <code>sql</code> defaults to VARCHAR(255).
Values will be always quoted as they are passed to the database.
</p>
<p class="POD_TEXT">
The remaining optional fields control the serialization process. They
will be passed down to the <u>Data::Dumper</u> manpage as values to the corresponding
the <u>Data::Dumper</u> manpage options. The default settings are: no indentation
(<code>indent=0</code>), compact format (<code>terse=1</code>), and quick dump
(<code>purity=0</code>).
</p>
<h2 class="POD_HEAD1"><a name="AUTHOR">AUTHOR</a></h2>
<p class="POD_TEXT">
This mapping was contributed by Gabor Herr
&lt;herr@iti.informatik.tu-darmstadt.de&gt;
</p>
<hr>
<a class="POD_NAVLINK" href="#Pod_TOP_OF_PAGE">[Top]</a>
<!--#include virtual="/footer.html"-->