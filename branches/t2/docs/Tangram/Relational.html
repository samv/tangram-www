<!--#set var="title" value="Documentation: Tangram::Relational"-->
<!--#include virtual="/header.html"-->
<a class="POD_NAVLINK" name="Pod_TOP_OF_PAGE"></a>
<h1 class="POD_TITLE">Tangram::Relational</h1>
<hr>
<ul>
<li><a class="POD_NAVLINK" href="#NAME">NAME</a>
<li><a class="POD_NAVLINK" href="#SYNOPSIS">SYNOPSIS</a>
<li><a class="POD_NAVLINK" href="#DESCRIPTION">DESCRIPTION</a>
<li><a class="POD_NAVLINK" href="#CLASS_METHODS">CLASS METHODS</a>
<ul>
<li><a class="POD_NAVLINK" href="#schema">schema</a>
<li><a class="POD_NAVLINK" href="#deploy">deploy</a>
<li><a class="POD_NAVLINK" href="#connect">connect</a>
<li><a class="POD_NAVLINK" href="#retreat">retreat</a>
</ul>
</ul>
<hr>
<h2 class="POD_HEAD1"><a name="NAME">NAME</a></h2>
<p class="POD_TEXT">
Tangram::Relational - Orthogonal Object Persistence in Relational Databases
</p>
<h2 class="POD_HEAD1"><a name="SYNOPSIS">SYNOPSIS</a></h2>
<pre class="POD_VERBATIM">
   use Tangram;

   $schema = Tangram::Relational-&gt;schema( $hashref );

   Tangram::Relational-&gt;deploy($schema, $dbh);

   $storage = Tangram::Relational-&gt;connect( $schema,
      $data_source, $username, $password );

   $storage-&gt;disconnect();

   Tangram::Relational-&gt;retreat($schema, $dbh);
</pre>
<h2 class="POD_HEAD1"><a name="DESCRIPTION">DESCRIPTION</a></h2>
<p class="POD_TEXT">
This is the entry point in the vanilla object-relational persistence
backend. Vendor-specific backends should be used when they
exist. Currently Mysql and Sybase have such backends; see
the <a class="POD_LINK" href="../Tangram/mysql.html">Tangram::mysql</a> manpage and the <a class="POD_LINK" href="../Tangram/Sybase.html">Tangram::Sybase</a> manpage.
</p>
<p class="POD_TEXT">
More backends will be added in the future; they will
implement persistence in XML documents, pure object databases etc.
</p>
<h2 class="POD_HEAD1"><a name="CLASS_METHODS">CLASS METHODS</a></h2>
<h3 class="POD_HEAD2"><a name="schema">schema</a></h3>
<pre class="POD_VERBATIM">
   $schema = Tangram::Relational-&gt;schema( $hashref );
</pre>
<p class="POD_TEXT">
Returns a new Schema object. See the <a class="POD_LINK" href="../Tangram/Schema.html">Tangram::Schema</a> manpage.
</p>
<h3 class="POD_HEAD2"><a name="deploy">deploy</a></h3>
<pre class="POD_VERBATIM">
   Tangram::Relational-&gt;deploy($schema);
   Tangram::Relational-&gt;deploy($schema, HANDLE);
   Tangram::Relational-&gt;deploy($schema, @dbi_args);
</pre>
<p class="POD_TEXT">
Writes SQL statements for preparing a database for use with the given
$schema.
</p>
<p class="POD_TEXT">
Called with a single argument, writes SQL statements to STDOUT.
</p>
<p class="POD_TEXT">
Called with two arguments, writes SQL statements to HANDLE. HANDLE may
be a DBI connection handle or a file handle.
</p>
<p class="POD_TEXT">
Called with more than two arguments, passes all but the first to
DBI::connect() and writes statements to the resulting DBI handle,
which is automatically closed.
</p>
<p class="POD_TEXT">
The SQL code is only guaranteed to work on newly created databases.
</p>
<h3 class="POD_HEAD2"><a name="connect">connect</a></h3>
<pre class="POD_VERBATIM">
   $storage = Tangram::Relational-&gt;connect( $schema,
      $data_source, $user, $password, \%options )
</pre>
<p class="POD_TEXT">
Connects to a storage and return a handle object. Dies in case of
failure.
</p>
<p class="POD_TEXT">
$schema is a Schema object describing the system of
classes stored in the database.
</p>
<p class="POD_TEXT">
$data_source, $user and $password are passed directly to
DBI::connect().
</p>
<p class="POD_TEXT">
\%options is a reference to a hash containing connection options. See
the <a class="POD_LINK" href="../Tangram/Storage.html">Tangram::Storage</a> manpage for a description of available options.
</p>
<h3 class="POD_HEAD2"><a name="retreat">retreat</a></h3>
<pre class="POD_VERBATIM">
   Tangram::Relational-&gt;retreat($schema);
   Tangram::Relational-&gt;retreat($schema, HANDLE);
   Tangram::Relational-&gt;retreat($schema, @dbi_args);
</pre>
<p class="POD_TEXT">
Remove the tables created by deploy(). Only guaranteed to work against
a database that was deployed using exactly the same schema.
</p>
<p class="POD_TEXT">
For an explanation of the possible argument lists, see the <u>deploy</u> manpage.
</p>
<p></p>
<hr>
<a class="POD_NAVLINK" href="#Pod_TOP_OF_PAGE">[Top]</a>
<!--#include virtual="/footer.html"-->